<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Juicifer Craft Beverages </title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/juicifer.css">
  <script src="/vue/vue.js" defer></script>
  <script src="/socket.io/socket.io.js" defer></script>
  <script src="js/juicifer-main.js" defer></script>
  <script src="js/ordering.js" defer></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.14.2/TweenMax.min.js"></script>
</head>

<div id="holder">
  <!-- This animation is from desgined by Vlada Oleynik, uploaded to the opensource network codepen-->
  <div class="animation">
    <svg width="200pt" height="227pt" viewBox="0 0 120 147" version="1.1" xmlns="http://www.w3.org/2000/svg" id="HomeFruit">
      <g id="orange">
        <path  class="pieces" id="p1" stroke="#DE6B00" stroke-width="2" d=" M 55.26 48.43 C 61.14 48.28 67.21 47.79 72.93 49.53 C 80.43 51.54 87.59 55.46 92.62 61.47 C 80.36 59.39 66.56 60.54 56.59 68.65 C 49.71 74.07 46.34 82.45 43.90 90.59 C 40.71 84.99 41.02 78.23 41.92 72.07 C 43.89 63.09 49.10 55.12 55.26 48.43 Z" />
        <path class="pieces" id="p2" stroke="#DE6B00" stroke-width="2" d=" M 75.45 63.61 C 82.34 63.16 89.33 63.19 96.11 64.69 C 100.05 70.11 103.26 76.15 104.52 82.78 C 105.99 88.41 105.50 94.26 105.21 99.99 C 103.67 99.96 102.41 99.43 102.03 97.84 C 98.32 89.84 92.50 82.70 84.95 78.07 C 76.93 73.20 66.88 72.47 58.00 75.25 C 56.47 75.48 54.93 75.69 53.40 75.89 C 58.85 69.19 66.78 64.44 75.45 63.61 Z" />
        <path class="pieces" id="p3" stroke="#DE6B00" stroke-width="2" d=" M 70.54 77.05 C 80.29 76.87 89.12 82.70 94.65 90.41 C 97.65 94.28 100.00 98.62 101.98 103.09 C 102.86 104.88 103.02 107.03 102.19 108.88 C 97.19 120.84 86.72 130.66 74.06 133.95 C 80.55 124.98 85.98 114.25 85.18 102.91 C 84.48 92.59 78.47 83.38 70.54 77.05 Z" />
        <path class="pieces" id="p4" stroke="#DE6B00" stroke-width="2" d=" M 79.03 92.56 C 82.70 97.86 82.91 104.73 82.13 110.91 C 80.32 120.10 75.63 128.65 69.36 135.56 C 63.28 135.59 57.07 136.34 51.11 134.76 C 43.00 132.72 35.39 128.44 29.69 122.29 C 38.66 122.39 47.96 123.82 56.59 120.55 C 68.73 116.58 76.82 104.78 79.03 92.56 Z" />
        <path class="pieces" id="p5" stroke="#DE6B00" stroke-width="2" d=" M 18.62 82.81 C 20.89 84.27 21.35 87.15 22.78 89.28 C 28.26 99.27 37.54 108.07 49.15 109.85 C 55.86 111.45 62.51 109.14 69.08 108.16 C 62.37 117.02 50.89 121.07 40.02 120.38 C 35.33 119.96 30.36 119.88 25.99 118.01 C 18.75 108.03 15.75 94.87 18.62 82.81 Z" />
        <path class="pieces" id="p6" stroke="#DE6B00" stroke-width="2" d=" M 45.97 50.86 C 47.34 50.40 48.80 50.27 50.22 50.05 C 46.73 55.67 42.40 60.91 40.54 67.37 C 38.09 74.01 37.44 81.45 39.69 88.24 C 41.75 95.61 46.69 101.75 52.18 106.92 C 39.93 106.96 30.11 97.56 24.57 87.42 C 22.96 83.87 19.95 80.31 20.57 76.23 C 24.76 64.60 34.44 55.20 45.97 50.86 Z" />
        <path class="leaves"  stroke="#678528" stroke-width="1" d=" M 22.95 19.55 C 30.35 20.11 37.95 19.53 45.16 21.51 C 51.83 23.31 56.30 29.97 55.77 36.83 C 52.68 33.79 49.38 30.95 45.77 28.55 C 48.85 31.47 52.38 34.13 54.05 38.20 C 49.75 38.50 44.73 39.81 41.03 36.88 C 37.27 33.92 35.41 29.31 32.09 25.93 C 29.54 23.17 26.29 21.21 22.95 19.55 M 81.79 15.79 C 87.77 14.27 93.95 13.77 99.94 12.26 C 93.46 16.20 88.25 22.16 85.08 29.05 C 82.76 33.84 80.73 39.20 76.18 42.35 C 71.78 45.60 66.01 44.65 60.90 44.69 C 62.45 38.37 66.62 32.86 71.81 29.01 C 65.88 31.97 61.94 37.52 58.50 42.98 C 56.92 38.21 56.95 32.83 59.79 28.51 C 64.22 20.63 73.40 17.41 81.79 15.79Z" />
      </g>
    </svg>
  </div>
  <h5>JUICIFER</h5>
</div>

<div id="ordering">
  <body>
    <div id="home-page" class="tabcontent">
      <div style="text-align:center;">
        <button class="homebutton" v-on:click="chooseYourOwn();toChooseYourOwn();makeIngredientLists()"><a>{{ uiLabels.chooseYourOwn }}</a></button>
        <button class="homebutton" v-on:click="preMade();resetChooseYourOwnPage();switchType('m');markChosenSizeButton('m')"><a>{{ uiLabels.preMade }}</a></button>
      </div>
      <div id="LanguageDiv">
        <div style="text-align:center;">
          <button class="newLanguage" v-on:click="switchLang('se')"><img id=SweImg src="/images/Sweden.png"></button>
          <button class="newLanguage" v-on:click="switchLang('en')"><img id=UkImg src="/images/United-Kingdom.png"></button>
        </div>
      </div>
    </div>

    <div id="chooseYourOwn-page" class="tabcontent">
      <div id="fixedHeader">
          <button id="cancelOrderOnHeader" v-on:click="resetChooseYourOwnPage();resetAll();openTab('onlyHomePage');switchType('m');markChosenSizeButton('m')">{{ uiLabels.cancel }}</button>
        <div id="ingredientsBar" class="ingredientsBar">
          <div id="ingredientsBarText">Choose 5 ingredients</div>
          <div id="ingredientsBarProgress"></div>
        </div>
      </div>
      <div id="openNavbutton">
        <button id="sidebarbutton" onclick="openNav()">&#8657;{{ uiLabels.order }}</button>
      </div>
      <div id=labelIng> <p class="h8">{{ uiLabels.ingredients }}</p></div>
      <div id=labelExtra> <p class="h8">{{ uiLabels.extras }}</p></div>
      <!-- Category-list and ingredient-list created to be able to get a grid layout -->
      <div id= "categories-drink">
        <div id= "category-list">
          <div id="vegetable" class = "ingredients-list">
            <input id="toggleVegetable" type="checkbox">
            <label for="toggleVegetable"><h1>{{ uiLabels.vegetable }}</h1></label>
            <div id="vegetableExpand">
              <div class ="ingredients-list-text">
                <ingredient
                ref="ingredient"
                type="m"
                v-for="item in ingredients"
                v-if="item.category == 'vegetable' && item.stock > 400 "
                v-on:increment="addToDrink(item, type)"
                v-on:decrement="removeFromDrink(item, type)"
                :item="item"
                :lang="lang"
                :type="type"
                :key="item.ingredient_id">
              </ingredient>
            </div>
          </div>
        </div>

        <div id="fruit" class ="ingredients-list">
          <input id="toggleFruit" type="checkbox">
          <label for="toggleFruit"><h1>{{ uiLabels.fruit }}</h1></label>
          <div id="fruitExpand">
            <div class ="ingredients-list-text">
              <ingredient
              ref = "ingredient"
              type="m"
              v-for="item in ingredients"
              v-if="item.category == 'fruit' && item.stock > 400 "
              v-on:increment="addToDrink(item, type)"
              v-on:decrement="removeFromDrink(item, type)"
              :item="item"
              :lang="lang"
              :type="type"
              :key="item.ingredient_id">
            </ingredient>
          </div>
        </div>
      </div>

      <div id="berry" class = "ingredients-list">
        <input id="toggleBerry" type="checkbox">
        <label for="toggleBerry"><h1>{{uiLabels.berry}}</h1></label>
        <div id="berryExpand">
          <div class ="ingredients-list-text">
            <ingredient
            ref = "ingredient"
            type="m"
            v-for = "item in ingredients"
            v-if = "item.category == 'berry' && item.stock > 400 "
            v-on:increment="addToDrink(item, type)"
            v-on:decrement="removeFromDrink(item, type)"
            :item="item"
            :lang="lang"
            :type="type"
            :key="item.ingredient_id">
          </ingredient>
        </div>
      </div>
    </div>

    <div id="liquid" class = "ingredients-list">
      <input id="toggleLiquid" type="checkbox">
      <label for="toggleLiquid"><h1>{{uiLabels.liquid}}</h1></label>
      <div id="liquidExpand">
        <div class ="ingredients-list-text">
          <ingredient
          ref = "ingredient"
          type="m"
          v-for = "item in ingredients"
          v-if = "item.category == 'liquid' && item.stock > 400 "
          v-on:increment="addToDrink(item, type)"
          v-on:decrement="removeFromDrink(item, type)"
          :item="item"
          :lang="lang"
          :type="type"
          :key="item.ingredient_id">
        </ingredient>
      </div>
    </div>
  </div>
</div>

<div id="sideTab">
  <div id="showDrink">
    <div id=closeNavbtn><a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a></div>
    <h3>{{ uiLabels.order }}</h3>
    <table id="showDrinkTable" >
      <tr><th><h4>{{ uiLabels.ingredients }}</h4><hr></th></tr>
      <tr v-for= "item in chosenIngredients" v-if="!item.extra">
        <td class="ingredientColumn">{{ item["ingredient_" + lang] }}</td>
        <td class="priceColumn"> {{ item["price_" + type] }} kr</td>
      </tr>
      <tr><th><h4>{{ uiLabels.extras }}</h4><hr></th></tr>
      <tr v-for= "item in chosenIngredients" v-if="item.extra">
        <td class="ingredientColumn">{{ item["ingredient_" + lang] }}</td>
        <td class="priceColumn"> {{ item["price_" + type] }} kr</td>
      </tr></table>

      <br>{{ uiLabels.totalPrice }} {{ price }} kr
      <button id="resetCurrentDrink" v-on:click="resetChooseYourOwnPage();switchType('m');markChosenSizeButton('m')" disabled>{{ uiLabels.resetCurrentDrink }}</button>
      <br>
      <br>
      <div id="sizeButtons">
        <button id="smallCup" class="sizeButton" v-on:click="switchType('s'); changeTotalPrice('s');markChosenSizeButton('s')"><img src="https://cdn3.iconfinder.com/data/icons/food-vector-line-6/128/297-256.png" width=40px height=40px><br>{{ uiLabels.smallType }}</button>
        <button id="mediumCup" class="sizeButton" v-on:click="switchType('m'); changeTotalPrice('m');markChosenSizeButton('m')"><img src="https://cdn3.iconfinder.com/data/icons/food-vector-line-6/128/297-256.png" width=55px height=55px><br>{{ uiLabels.mediumType }}</button>
        <button id="largeCup" class="sizeButton" v-on:click="switchType('l'); changeTotalPrice('l');markChosenSizeButton('l')"><img src="https://cdn3.iconfinder.com/data/icons/food-vector-line-6/128/297-256.png" width=70px height=70px><br>{{ uiLabels.largeType }}</button>
      </div>
    </div>
    </div>
    </div>
    </div>
    <div id="continueButtons" class="continueButtons">
      <button id="continue" v-on:click="openTab('extras-page');toExtras()" disabled>{{ uiLabels.continue }}</button>
      <button id="addToMyOrder" v-on:click="addToMyOrder();openTab('myOrder-page');switchType('m');markChosenSizeButton('m')" disabled>{{ uiLabels.addToOrder }}</button>
</div>

<div id="preMade-page" class="tabcontent">
    <button id="cancelOrder" v-on:click="resetChooseYourOwnPage();resetAll();openTab('onlyHomePage');switchType('m');markChosenSizeButton('m')">{{ uiLabels.cancel }}</button>
  <h3>{{ uiLabels.preMade }}</h3>
<div id="sizeButtonsPreMade">
            <button id="smallCupPreMade" class="sizeButtonPreMade" v-on:click="switchType('s'); markChosenSizeButton('s')"><img src="https://cdn3.iconfinder.com/data/icons/food-vector-line-6/128/297-256.png" width=40px height=40px><br>{{ uiLabels.smallType }}</button>
            <button id="mediumCupPreMade" class="sizeButtonPreMade" v-on:click="switchType('m'); markChosenSizeButton('m')"><img src="https://cdn3.iconfinder.com/data/icons/food-vector-line-6/128/297-256.png" width=55px height=55px><br>{{ uiLabels.mediumType }}</button>
            <button id="largeCupPreMade" class="sizeButtonPreMade" v-on:click="switchType('l'); markChosenSizeButton('l')"><img src="https://cdn3.iconfinder.com/data/icons/food-vector-line-6/128/297-256.png" width=70px height=70px><br>{{ uiLabels.largeType }}</button>
      </div>
    
  <div id="preMade-list">
    <div v-for="preparedDrink in premade">
      <br>
      <img v-bind:src="preparedDrink.image" height="250px">
      <h2>{{preparedDrink.pm_name + " "}}{{preparedDrink["price_" + type]}} :-</h2>
      <p>{{ getIngredientNameList(preparedDrink.pm_ingredients) }}</p>

      <button id=addToMyOrderPreMade v-on:click="orderPremade(preparedDrink);openTab('myOrder-page');switchType('m');markChosenSizeButton('m')">{{ uiLabels.addToOrder}}</button>
    </div>
  </div>
</div>
 

<div id="extras-page" class="tabcontent">
  <div id="extrasCategories">
    <div class ="extras-list">
      <input id="toggleNut" type="checkbox">
      <label for="toggleNut"><h1>{{ uiLabels.nut }}</h1></label>
      <div id="nutExpand">
        <div class ="extras-list-text">
        <ingredient
        ref="ingredient"
        type="m"
        v-for="item in ingredients"
        v-if="item.category == 'nut' && item.stock > 400 "
        v-on:increment="addToDrink(item, type)"
        v-on:decrement="removeFromDrink(item, type)"
        :item="item"
        :lang="lang"
        :type="type"
        :key="item.ingredient_id">
      </ingredient>
      </div>
    </div>
  </div>
  <div class ="extras-list">
    <input id="toggleFlavour" type="checkbox">
    <label for="toggleFlavour"><h1>{{ uiLabels.flavour }}</h1></label>
    <div id="flavourExpand">
      <div class ="extras-list-text">
      <ingredient
      ref="ingredient"
      type="m"
      v-for="item in ingredients"
      v-if="item.category == 'flavour' && item.stock > 400 "
      v-on:increment="addToDrink(item, type)"
      v-on:decrement="removeFromDrink(item, type)"
      :item="item"
      :lang="lang"
      :type="type"
      :key="item.ingredient_id">
    </ingredient>
    </div>
  </div>
</div>
<div class ="extras-list">
  <input id="togglePowder" type="checkbox">
  <label for="togglePowder"><h1>{{ uiLabels.powder }}</h1></label>
  <div id="powderExpand">
    <div class ="extras-list-text">
    <ingredient
    ref="ingredient"
    type="m"
    v-for="item in ingredients"
    v-if="item.category == 'powder' && item.stock > 400 "
    v-on:increment="addToDrink(item, type)"
    v-on:decrement="removeFromDrink(item, type)"
    :item="item"
    :lang="lang"
    :type="type"
    :key="item.ingredient_id">
  </ingredient>
  </div>
</div>
</div>
<div class ="extras-list">
  <input id="toggleOther" type="checkbox">
  <label for="toggleOther"><h1>{{ uiLabels.other }}</h1></label>
  <div id="otherExpand">
    <div class ="extras-list-text">
    <ingredient
    ref="ingredient"
    type="m"
    v-for="item in ingredients"
    v-if="item.category == 'other' && item.stock > 400 "
    v-on:increment="addToDrink(item, type)"
    v-on:decrement="removeFromDrink(item, type)"
    :item="item"
    :lang="lang"
    :type="type"
    :key="item.ingredient_id">
  </ingredient>
  </div>
</div>
</div>
</div>
</div>

<div id="myOrder-page" class="tabcontent">
        <button id="cancelOrder" v-on:click="resetChooseYourOwnPage();resetAll();openTab('onlyHomePage');switchType('m');markChosenSizeButton('m')">{{ uiLabels.cancel }}</button>
        <h3>{{ uiLabels.myOrder }}</h3>
  <h4>{{ uiLabels.chosenDrinks }}</h4>
  <hr>
  <div id="myOrder-text">
    <div id="myOrderedDrinks" v-for = "(order,key) in myDrinks" >
      <br>
      <added-drinks
      type="m"
      v-on:order-id="key"
      :order="order"
      :ui-labels="uiLabels"
      :lang="lang"
      :type="type"
      :key="key">
    </added-drinks>
  </div>
</div>
<br><hr><p class="h7">{{ uiLabels.totalPrice }} {{ totalPrice }} kr</p>
<div id="myorderbutton">
  <button id=addAnotherDrink v-on:click="openTab('home-page')">{{ uiLabels.addAnotherDrink}}</button>
  <button id=proceedToCheckout v-on:click="openTab('checkOut-page')" disabled>{{ uiLabels.proceedToCheckout}}</button>
</div>
</div>

<div id="checkOut-page" class="tabcontent">
    <button id="cancelOrder" v-on:click="resetChooseYourOwnPage();resetAll();openTab('onlyHomePage');switchType('m');markChosenSizeButton('m')">{{ uiLabels.cancel }}</button>
  <h3>{{ uiLabels.checkOut }}</h3>
  <tr><th><h4>{{ uiLabels.myOrder }}</h4><hr></th></tr>
  <div id="myOrder-text">
    <div id="myOrderedDrinks" v-for = "(order,key) in myOrder" >
      <br>
      <drinks-in-order
      type="m"
      v-on:order-id="key"
      :order="order"
      :ui-labels="uiLabels"
      :lang="lang"
      :type="type"
      :key="key">
      </drinks-in-order>
    </div>
   </div>
<br><hr><p class="h7">{{uiLabels.totalPrice}} {{ totalPrice}} kr</p>

<div id="myorderbutton">
  <button id=placeOrderButton v-on:click="placeOrder();receiveOrderInfo()" disabled>{{ uiLabels.placeOrder}}</button>
</div>
</div>
<div id=receivedOrderContainer>
    <div id=receivedOrderInfo>
    <h1> {{ uiLabels.finishedOrder }}</h1>
    <br><br>
    <div v-for= "finishedDrink in finishedOrderInfo">
        <finished-order-info
        v-bind:finished-drink="finishedDrink"
        v-bind:ui-labels = "uiLabels">
        </finished-order-info>
    </div>
    <br>
    <button id=orderFinishedButton v-on:click="resetChooseYourOwnPage();resetAll();openTab('onlyHomePage');switchType('m');markChosenSizeButton('m')">{{uiLabels.cancel}}</button>
    </div>
</div>


</body>

<div id="ProgressBarPreMade">
  <div id="notifybubblePM">{{ orderCounterValue }}</div>
  <button class="tablinkPM" v-on:click="openTab('home-page')" id="home-pageBtnPM">{{ uiLabels.home }}</button>
  <button class="tablinkPM" v-on:click="openTab('preMade-page')" id="defaultOpenPM">{{ uiLabels.preMade }}</button>
  <button class="tablinkPM" v-on:click="openTab('myOrder-page')" id="myOrder-pageBtnPM">{{ uiLabels.myOrder }}</button>
  <button class="tablinkPM" v-on:click="openTab('checkOut-page')"id="checkOut-pageBtnPM">{{ uiLabels.checkOut }}</button>
</div>

<div id="ProgressBarChooseYourOwn">
  <div id="notifybubble">{{ orderCounterValue }}</div>
  <button class="tablink" v-on:click="openTab('home-page')" id="home-pageBtn">{{ uiLabels.home }}</button>
  <button class="tablink" v-on:click="openTab('chooseYourOwn-page');toChooseYourOwn()" id="defaultOpen">{{ uiLabels.ingredients }}</button>
  <button class="tablink" v-on:click="openTab('extras-page');toExtras()" id="extras-pageBtn">{{ uiLabels.extras }}</button>
  <button class="tablink" v-on:click="openTab('myOrder-page')" id="myOrder-pageBtn">{{ uiLabels.myOrder }}</button>
  <button class="tablink" v-on:click="openTab('checkOut-page')" id="checkOut-pageBtn">{{ uiLabels.checkOut }}</button>
</div>
</div>

</html>
